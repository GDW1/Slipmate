<div *ngIf="!loginService.loggedIn">
    <div style="width: fit-content; top: 50%; left: 50%;  transform: translate(-50%, -50%)">
        <img class="logo" (click)="this.loginService.signInWithGoogle()" width="400" src="../assets/images/white_overlay_logo.png" style="cursor: pointer; position: absolute;" alt="Slipmate">
        <p>Teacher</p>
    </div>
    <p style="font-size: 12pt; color: darkgray; position: absolute; bottom: 0">Trouble logging in? Try clicking the logo!</p>
</div>


<div class="container" *ngIf="loginService.loggedIn">
    <span >{{this.initLogin()}}</span>
    <mat-toolbar color="primary" class="app-toolbar">
        <button mat-icon-button (click)="sidenav.toggle()" style="margin-right: 1em; margin-bottom: 2px">
            <mat-icon style="margin-bottom: 1px">menu</mat-icon>
        </button>
        <span style="margin-bottom: -2px; margin-left: 0.1em">
            <a style="font-size: 20pt; color: white; text-decoration: none !important;" routerLink="today">
                <span style="font-family: 'psans-med', sans-serif;">Slip</span>
                <span style="font-family: 'psans-light', sans-serif">mate</span>
            </a>
        </span>
        <span class="spacer"></span>
        <span>{{this.getTitle() | titlecase}}</span>
        <span class="spacer"></span>
        <span style="margin-right: 1em">Hello, {{this.loginService.name.split(' ')[0]}}!</span>
        <button mat-mini-fab [matMenuTriggerFor]="usermenu" style="overflow-y: hidden; overflow-x: hidden">
            <img src="{{this.loginService.user.photoUrl}}" width="100%" style="margin-top: -0.575em" alt="Profile">
        </button>
        <mat-menu #usermenu style="border-radius: 10em">
            <span class="name">{{this.loginService.name}}</span>
            <mat-divider></mat-divider>
            <p mat-menu-item>Receive Emails <mat-slide-toggle [checked]="isEmailed" (change)="this.setOtherEmail()"></mat-slide-toggle></p>
            <a mat-menu-item routerLink="help">Help</a>
            <a mat-menu-item (click)="this.loginService.signOut()">Log Out</a>
        </mat-menu>
    </mat-toolbar>

    <mat-sidenav-container class="sidenav-container">
        <mat-sidenav #sidenav disableClose mode="side" opened fixedTopGap="56" role="navigation"
                     style="margin-right: 0">
            <mat-nav-list>
                <a mat-list-item routerLink="today" [ngClass]="{ active: isActive('today') }">
                    <mat-icon class="sn-icon">event</mat-icon>
                    <span class="sn-text" [ngClass]="{ activeT: isActive('today') }">Today</span>
                </a>
                <a mat-list-item routerLink="requests" [ngClass]="{ active: isActive('requests') }">
                    <mat-icon class="sn-icon">dns</mat-icon>
                    <span class="sn-text" [ngClass]="{ activeT: isActive('requests') }">Requests</span>
                </a>
                <a mat-list-item routerLink="confirmed" [ngClass]="{ active: isActive('students') }">
                    <mat-icon class="sn-icon">people</mat-icon>
                    <span class="sn-text" [ngClass]="{ activeT: isActive('students') }">Confirmed</span>
                </a>
                <a mat-list-item routerLink="blockeddays" [ngClass]="{ active: isActive('calendar') }">
                    <mat-icon class="sn-icon">date_range</mat-icon>
                    <span class="sn-text" [ngClass]="{ activeT: isActive('calendar') }">Blocked Days</span>
                </a>
                <a mat-list-item routerLink="create" [ngClass]="{ active: isActive('create') }">
                    <mat-icon class="sn-icon">chrome_reader_mode</mat-icon>
                    <span class="sn-text" [ngClass]="{ activeT: isActive('create') }">Create</span>
                </a>
            </mat-nav-list>
        </mat-sidenav>
        <mat-sidenav-content role="main" class="bg-light" style="margin-left: 0">
            <router-outlet></router-outlet>
        </mat-sidenav-content>
    </mat-sidenav-container>
</div>

