<div *ngIf="!loginService.loggedIn" style="height: 100vh;">
    <div style="display: flex; margin-top: 47vh">
        <span class="spacer"></span>
        <button mat-raised-button color="primary" (click)="this.loginService.signInWithGoogle()">Sign in</button>
        <span class="spacer"></span>
    </div>
</div>


<div class="container" *ngIf="loginService.loggedIn">
    <mat-toolbar color="primary" class="app-toolbar">
        <button mat-icon-button (click)="sidenav.toggle()" style="margin-right: 1em; margin-bottom: 2px">
            <mat-icon style="margin-bottom: 1px">menu</mat-icon>
        </button>
        <span style="margin-bottom: -2px; margin-left: 0.1em">
            <a style="font-size: 20pt; color: white; text-decoration: none !important;" routerLink="today">
                <span style="font-family: 'psans-med', sans-serif;">Slip</span>
                <span style="font-family: 'psans-light', sans-serif">mate</span>
            </a>
        </span>
        <span class="spacer"></span>
        <span>{{this.getTitle() | titlecase}}</span>
        <span class="spacer"></span>
        <span style="margin-right: 1em">Hello, {{this.loginService.user.name.split(' ')[0]}}!</span>
        <button mat-mini-fab [matMenuTriggerFor]="usermenu" style="overflow-y: hidden; overflow-x: hidden">
            <img src="{{this.loginService.user.photoUrl}}" width="100%" style="margin-top: -0.575em" alt="Profile">
        </button>
        <mat-menu #usermenu style="border-radius: 10em">
            <span class="name">{{this.loginService.user.name}}</span>
            <mat-divider></mat-divider>
            <a mat-menu-item routerLink="settings">Settings</a>
            <a mat-menu-item routerLink="help">Help</a>
            <a mat-menu-item (click)="this.loginService.signOut()">Log Out</a>
            <a mat-menu-item (click)="this.api.getTeacher('798932')">Test getTeacher()</a>
        </mat-menu>
    </mat-toolbar>

    <mat-sidenav-container class="sidenav-container">
        <mat-sidenav #sidenav disableClose mode="side" opened fixedTopGap="56" role="navigation"
                     style="margin-right: 0">
            <mat-nav-list>
                <a mat-list-item routerLink="today" [ngClass]="{ active: isActive('today') }">
                    <mat-icon class="sn-icon">event</mat-icon>
                    <span class="sn-text" [ngClass]="{ active: isActive('today') }">Today</span>
                </a>
                <a mat-list-item routerLink="requests" [ngClass]="{ active: isActive('requests') }">
                    <mat-icon class="sn-icon">dns</mat-icon>
                    <span class="sn-text" [ngClass]="{ active: isActive('requests') }">Requests</span>
                </a>
                <a mat-list-item routerLink="students" [ngClass]="{ active: isActive('students') }">
                    <mat-icon class="sn-icon">people</mat-icon>
                    <span class="sn-text" [ngClass]="{ active: isActive('students') }">Students</span>
                </a>
                <a mat-list-item routerLink="calendar" [ngClass]="{ active: isActive('calendar') }">
                    <mat-icon class="sn-icon">date_range</mat-icon>
                    <span class="sn-text" [ngClass]="{ active: isActive('calendar') }">Calendar</span>
                </a>
                <a mat-list-item routerLink="create" [ngClass]="{ active: isActive('create') }">
                    <mat-icon class="sn-icon">chrome_reader_mode</mat-icon>
                    <span class="sn-text" [ngClass]="{ active: isActive('create') }">Create</span>
                </a>
            </mat-nav-list>
        </mat-sidenav>
        <mat-sidenav-content role="main" class="bg-light" style="margin-left: 0">
            <router-outlet></router-outlet>
        </mat-sidenav-content>
    </mat-sidenav-container>
</div>

